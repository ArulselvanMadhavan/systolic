âŸ¨âŸ¨red, yellow, green, white, blackâŸ©â‡color, raylibâŸ©â†râ†â€¢Import "../rayed-bqn/rayed.bqn"

tileSize â† 3
dims â† tileSizeâ€¿tileSize
nsize â† Ã—Â´ dims
clock â† r.StartClock@
MkData â† â€¢rand.RangeËœ
activations â† â¥ŠâŸœ(MkData+Â´) dims
weight â† â¥ŠâŸœ(MkData+Â´) dims
expectedOut â† activations +Ëâˆ˜Ã—â‰1â€¿âˆ weight

# display expectedOut
spacing â† 0
min_y â† 20
max_x â† 20
rec â† 20
out_start â† (min_y)â€¿(max_x + (3 Ã— spacing))
out_wid â† 2Ã—rec
out_spacing â† (out_widâ€¿out_wid)
MkGridPts â† {(âŒ½â‰1) (ğ•©âŠ¸+Ë˜out_widÃ—>â¥Šâ†•dims)}
out_tl â† MkGridPts out_start
MkGridLines â† (âˆ¾âŸœout_spacing)Ë˜
act_lines â† MkGridLines out_tl
NextLines â† {ğ•¨ğ•Šğ•©:
          max_x â† âŒˆËâŒˆËğ•©
          min_x â† âŒŠËâŠ‘Ë˜ğ•©
          diff_x â† max_x - min_x
          â€¢Show "diff_x"â€¿diff_x
          out â† (âŠ‘diff_x + ğ•¨)â€¿0â€¿0â€¿0âŠ¸+Ë˜ ğ•©
          â€¢Show "out"â€¿out
          out
}
x_spacing â† 3Ã—rec
w_lines â† x_spacing NextLines act_lines
out_lines â† x_spacing NextLines w_lines
DrawRectangleLines â† {râ€¿gâ€¿bâ€¿ağ•Šxâ€¿yâ€¿wxâ€¿wy:
raylib.DrawRectangleLinesâŸ¨x, y, wx, wy, râ€¿gâ€¿bâ€¿aâŸ©
}â‰1â€¿2

PerFrame â† {ğ•¤
    elapsedSecs â† âŒˆclock.Time@
    # â€¢Show elapsedSecs
    #â€¢Show activationsâ€¿weightâ€¿expectedOut
    {white DrawRectangleLines ğ•©}Ë˜ act_lines
    {white DrawRectangleLines ğ•©}Ë˜ w_lines
    {white DrawRectangleLines ğ•©}Ë˜ out_lines
} r.draw._withCanvasâŸœblack

PerFrameâ€¢_While_(Â¬r.window.ShouldClose)r.window._openAs "DistGEMM"
